<!DOCTYPE html>
<html lang="vi">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HoChiMinhTourist - Vé Tham Quan</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap 5 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font & Icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- AOS Animation -->
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css">
    <!-- Slick Carousel -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css"/>
    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>
    <!-- Select2 -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: "Segoe UI", sans-serif; }
        body { background: #fff; color: #222; transition: 0.5s ease; overflow-x: hidden; }
        body.dark { background: #121212; color: #eee; }

        header {
          background: rgb(0, 153, 255);
          color: white;
          padding: 10px 40px;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        header h1 { font-size: 24px; }
        header .actions { display: flex; align-items: center; gap: 15px; }

        .banner {
          position: relative;
          width: 100%;
          overflow: hidden;
        }
        .banner:hover img {
            transform: scale(1.05) rotateX(3deg) rotateY(-3deg);
        }
        .banner img { width: 100%; height: 400px; object-fit: cover; border-radius: 0 0 10px 10px; }

        /* Danh sách tour */
        .tour-section {
          padding: 40px;
          text-align: center;
        }

        .tour-list {
          display: flex;
          justify-content: center;
          flex-wrap: wrap;
          gap: 30px;
          margin-top: 30px;
        }

        .tour-card {
          width: 300px;
          background: white;
          border-radius: 15px;
          box-shadow: 0 3px 10px rgba(0,0,0,0.1);
          overflow: hidden;
          transition: transform 0.3s;
        }

        .tour-card img { width: 100%; height: 180px; object-fit: cover; }
        .tour-card:hover { transform: translateY(-8px); }
        .tour-info { padding: 15px; text-align: left; }

        .tour-info h3 { font-size: 18px; margin-bottom: 10px; color: #005baa; }
        .tour-info p { font-size: 14px; line-height: 1.4; }
        .tour-info .price { color: #e63946; font-weight: bold; margin-top: 10px; }

        /* Nút lên đầu trang */
        #topBtn {
          position: fixed;
          bottom: 40px;
          right: 30px;
          background: #005baa;
          color: #fff;
          padding: 10px 12px;
          border-radius: 50%;
          display: none;
          cursor: pointer;
          font-size: 20px;
          z-index: 1000;
        }

        /* Loading animation */
        #loading {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: #fff;
        z-index: 2000;
        display: flex;
        align-items: center;
        justify-content: center;
        }
        #loading.hidden { display: none; }

        .spinner {
        border: 6px solid #ccc;
        border-top: 6px solid #005baa;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
        }

        @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
        }

        /* Chatbox */
        #chatBtn {
        position: fixed;
        bottom: 40px;
        right: 90px;
        background: #00aaff;
        color: white;
        border-radius: 50%;
        padding: 12px;
        font-size: 20px;
        cursor: pointer;
        z-index: 1000;
        }

        #chatBox {
        position: fixed;
        bottom: 100px;
        right: 40px;
        width: 300px;
        height: 380px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        display: none;
        flex-direction: column;
        overflow: hidden;
        z-index: 1000;
        }

        #chatBox header {
        background: #005baa;
        color: white;
        padding: 10px;
        font-weight: bold;
        }

        #chatBox .messages {
        flex: 1;
        padding: 10px;
        overflow-y: auto;
        }

        #chatBox input {
        border: none;
        border-top: 1px solid #ddd;
        padding: 10px;
        width: 100%;
        outline: none;
        }

        /* Slick carousel */
        .slick-slide img {
        width: 100%;
        height: 400px;
        object-fit: cover;
        }
        
        /* --- Navbar --- */
        .navbar {
            background-color: white !important;
            transition: background 0.3s ease-in-out;
        }

        .navbar-brand img {
            border-radius: 50%;
            background: white;
            padding: 3px;
        }

        .nav-link {
            font-weight: 500;
            text-transform: uppercase;
            color: #0073e6 !important;
            transition: 0.2s;
        }

        .nav-link:hover {
            color: #ffd700 !important;
            transform: scale(1.05);
            border-bottom: #0073e6 solid;
        }

        .navbar.scrolled {
            background: #004080 !important;
        }
        footer {
            text-align: center;
            padding: 15px;
            font-size: 13px;
            color: white;
            background:black;
            margin-top: 40px;
        }
        /* --- Mega Dropdown Menu --- */
        .mega-menu {
            width: 100%;
            left: 0;
            top: 100%;
            border: none;
            background: #fff;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: none;
            opacity: 0;
            transition: all 0.3s ease;
            position: absolute;
            z-index: 200;
        }
        .nav-item.dropdown:hover .mega-menu {
            display: block;
            opacity: 1;
        }
        .mega-menu h6 {
            font-size: 15px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
            margin-bottom: 10px;
        }
        .dropdown-item {
            color: #333 !important;
            padding: 4px 0;
            transition: 0.2s;
        }
        .dropdown-item:hover {
            color: #0073e6 !important;
            transform: translateX(4px);
        }
        .nav-item.dropdown.show .mega-menu {
            display: block !important;
            opacity: 1;
        }

        /* Hiệu ứng click vào thẻ tour */
        .tour-card a {
            text-decoration: none;
            color: inherit;
            display: block;
        }
            .tour-card:hover img {
            transform: scale(1.05);
            transition: 0.4s ease;
        }
        /* --- Hiệu ứng nổi khi rê chuột vào banner --- */
        .banner {
            position: relative;
            overflow: hidden;
        }

        .banner img {
            transition: transform 0.6s ease, box-shadow 0.4s ease;
            transform-origin: center;
        }

        .banner:hover img {
            transform: scale(1.05); /* phóng to nhẹ 5% */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25); /* đổ bóng nhẹ */
        }
        /* Đảm bảo navbar hoạt động tốt trên mobile */
        @media (max-width: 992px) {
        .mega-menu {
            position: static;
            display: none;
            opacity: 1;
            box-shadow: none;
        }
        .nav-item.dropdown.show .mega-menu {
            display: block !important;
        }
        .navbar-collapse {
            background: #fff;
            border-radius: 10px;
            margin-top: 10px;
        }
        .nav-link {
            color: #000 !important;
        }
        }
        /* THANH TÌM KIẾM TOUR (Select2) */
        /* Container tổng thể */
        .select2-container {
          width: 100% !important;
          font-family: "Segoe UI", sans-serif;
        }
        
        /* Vùng hiển thị chọn */
        .select2-container--default .select2-selection--single {
          height: 40px;
          border: 2px solid #0073e6;
          border-radius: 25px;
          background: #ffffff;
          box-shadow: 0 2px 6px rgba(0, 115, 230, 0.15);
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          padding: 0 8px;
        }
        
        /* Khi rê chuột hoặc focus */
        .select2-container--default .select2-selection--single:hover {
          box-shadow: 0 0 10px rgba(0, 115, 230, 0.4);
        }
        
        .select2-container--default.select2-container--focus .select2-selection--single {
          border-color: #0051a3;
          box-shadow: 0 0 0 3px rgba(0, 115, 230, 0.3);
        }
        
        /* Văn bản bên trong */
        .select2-selection__rendered {
          line-height: 38px !important;
          color: #0073e6 !important;
          font-weight: 600;
          padding-left: 10px !important;
        }
        
        /* Mũi tên dropdown */
        .select2-selection__arrow {
          height: 36px !important;
          width: 30px;
        }
        
        .select2-selection__arrow b {
          border-color: #0073e6 transparent transparent transparent !important;
          border-width: 6px 6px 0 6px !important;
        }
        
        /* Danh sách kết quả */
        .select2-container--default .select2-results > .select2-results__options {
          max-height: 250px;
          overflow-y: auto;
          border-radius: 10px;
        }
        
        /* Item trong danh sách */
        .select2-container--default .select2-results__option {
          padding: 8px 12px;
          font-size: 15px;
          color: #333;
          transition: 0.2s;
        }
        
        /* Khi hover item */
        .select2-container--default .select2-results__option--highlighted[aria-selected] {
          background: #0073e6;
          color: #fff;
          transform: scale(1.02);
        }
        
        /* Icon placeholder */
        .select2-container--default .select2-selection__placeholder {
          color: #666 !important;
          font-style: italic;
        }
        
        /* ====================== DARK MODE ====================== */
        body.dark .select2-container--default .select2-selection--single {
          background: #222;
          border-color: #00aaff;
          color: #eee;
          box-shadow: 0 0 10px rgba(0, 170, 255, 0.2);
        }
        
        body.dark .select2-selection__rendered {
          color: #00aaff !important;
        }
        
        body.dark .select2-selection__arrow b {
          border-color: #00aaff transparent transparent transparent !important;
        }
        
        body.dark .select2-results__option {
          color: #ddd;
          background: #1e1e1e;
        }
        
        body.dark .select2-results__option--highlighted[aria-selected] {
          background: #00aaff;
          color: #fff;
        }
        
        /* Hiệu ứng mượt khi mở danh sách */
        .select2-dropdown {
          border: none !important;
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
          border-radius: 10px;
          animation: fadeSlide 0.25s ease forwards;
        }
        
        @keyframes fadeSlide {
          from { opacity: 0; transform: translateY(-5px); }
          to { opacity: 1; transform: translateY(0); }
        }
         /* Dark mode style */
        body.dark .tour-card { background: #1e1e1e; color: #ddd; }
        body.dark header {
            background: #1f1f1f;
            color: #eee;
        }
        body.dark .navbar {
            background: #222 !important;
        }
        body.dark .nav-link {
            color: #eee !important;
        }
        body.dark footer {
            background: #111;
            color: #ccc;
        }
        body.dark #chatBox {
            background: #222;
            color: #fff;
        }
        body.dark #chatBox header {
            background: #333;
        }
        body.dark #topBtn,
        body.dark #chatBtn {
        background: #0073e6;
        }

    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container">
            <!-- Logo -->
            <a class="navbar-brand d-flex align-items-center" href="index.html">
              <img src="logo1.jpg" alt="Logo" width="70" height="40" class="me-2">
              <span class="logo" style="font-size: 20px; font-weight: 700; text-decoration: none; font-family: 'Playfair Display', serif;color: #0073e6;">HOCHIMINHTOURIST</span>
            </a>

            <!-- Nút menu mobile -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Danh mục menu -->
            <div class="collapse navbar-collapse" id="mainNavbar">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link active" href="index.html">Trang chủ</a></li>

                <!-- Dropdown du lịch -->
                <li class="nav-item dropdown position-static">
                <a class="nav-link dropdown-toggle" href="#" id="dulichDropdown" role="button">
                    Du lịch
                </a>
                <div class="dropdown-menu mega-menu p-3" aria-labelledby="dulichDropdown">
                    <div class="row">
                    <!-- Miền Bắc -->
                    <div class="col-md-2 col-6">
                        <h6 class="fw-bold text-primary"><a href="miền bắc.html">Miền Bắc</a></h6>
                        <ul class="list-unstyled">
                        <li><a href="hà nội.html" class="dropdown-item">Hà Nội</a></li>
                        <li><a href="hà giang.html" class="dropdown-item">Hà Giang</a></li>
                        </ul>
                    </div>
                    <!-- Miền Trung -->
                    <div class="col-md-2 col-6">
                        <h6 class="fw-bold text-primary"><a href="miền trung.htmla">Miền Trung</a></h6>
                        <ul class="list-unstyled">
                        <li><a href="Nha Trang.html" class="dropdown-item">Nha Trang</a></li>
                        <li><a href="Mũi né.html" class="dropdown-item">Mũi Né</a></li>
                        </ul>
                    </div>
                    <!-- Tây Nguyên -->
                    <div class="col-md-2 col-6">
                        <h6 class="fw-bold text-primary"><a href="tây nguyên.html">Tây Nguyên</a></h6>
                        <ul class="list-unstyled">
                        <li><a href="dak lak .html" class="dropdown-item">Đắk Lắk</a></li>
                        <li><a href="lâm đồng.html" class="dropdown-item">Lâm Đồng</a></li>
                        </ul>
                    </div>
                    <!-- Tây Nam Bộ -->
                    <div class="col-md-2 col-6">
                        <h6 class="fw-bold text-primary"><a href="miền tây.html">Tây Nam Bộ</a></h6>
                        <ul class="list-unstyled">
                        <li><a href="rạch giá.html" class="dropdown-item">Rạch Giá</a></li>
                        <li><a href="phú quốc.html" class="dropdown-item">Phú Quốc</a></li>
                        </ul>
                    </div>
                    <!-- Đông Nam Bộ -->
                    <div class="col-md-2 col-6">
                        <h6 class="fw-bold text-primary"><a href="đông nam bộ.html">Đông Nam Bộ</a></h6>
                        <ul class="list-unstyled">
                        <li><a href="vungtau.html" class="dropdown-item">Vũng Tàu</a></li>
                        <li><a href="tayninh.html" class="dropdown-item">Tây Ninh</a></li>
                        </ul>
                    </div>
                    </div>
                </div>
                </li>

                <li class="nav-item"><a class="nav-link" href="Thuê xe.html" target="_blank">Thuê xe</a></li>
                <li class="nav-item"><a class="nav-link" href="véthamquan.html">Vé tham quan</a></li>
                <li class="nav-item"><a class="nav-link" href="Liên hệ.html">Liên hệ</a></li>
            </ul>

            <form class="d-flex ms-3" role="search" style="width: 250px;">
              <select id="tourSearch" class="form-select" style="width: 100%;">
                <option value="">🔍 Tìm tour...</option>
              </select>
            </form>
            <!-- Nút Dark Mode -->
            <button id="toggleMode" class="btn btn-outline-primary ms-3"><i class="fa-solid fa-moon"></i></button>
            </div>
        </div>
    </nav>
  <!-- Loading animation -->
  <div id="loading"><div class="spinner"></div></div>

  <!-- Header -->
  <header>
    <h1>HoChiMinhTourist</h1>
    <div class="actions">
      
    </div>
  </header>

  <!-- Banner Carousel -->
  <div class="banner slick-banner">
    <div><img src="https://bqn.1cdn.vn/2025/05/21/yenbai.gov.vn-noidung-tintuc-publishingimages-thong-tin-tinh-thang-canh-du-lich-_mu-cang-chi.jpg" alt=""></div>
    <div><img src="https://m.yodycdn.com/blog/phong-canh-dep-o-viet-nam-yody-vn-8.jpg" alt=""></div>
    <div><img src="https://ktmt.vnmediacdn.com/images/2021/08/03/7-1627963639-5f9bf78b329f7bdf8ceee0fd55fc2176.jpg" alt=""></div>
  </div>

  <!-- Tour Section -->
    <section class="tour-section" data-aos="fade-up">
        <h2>Miền bắc</h2>
        <div class="tour-list" id="mienbac"></div>
    </section>

    <section class="tour-section" data-aos="fade-up">
        <h2>Miền Trung</h2>
        <div class="tour-list" id="mientrung"></div>
    </section>

    <section class="tour-section" data-aos="fade-up">
        <h2>Tây nguyên</h2>
        <div class="tour-list" id="taynguyen"></div>
    </section>
    <section class="tour-section" data-aos="fade-up">
        <h2>Tây Nam Bộ</h2>
        <div class="tour-list" id="taynambo"></div>
    </section>
    <section class="tour-section" data-aos="fade-up">
        <h2>Đông Nam Bộ</h2>
        <div class="tour-list" id="dongnambo"></div>
    </section>
  <!-- Nút lên đầu trang -->
  <div id="topBtn"><i class="fa-solid fa-arrow-up"></i></div>

  <!-- Chat button -->
  <div id="chatBtn"><i class="fa-solid fa-comments"></i></div>

  <!-- Chat box -->
  <div id="chatBox">
    <header>Trò chuyện với chúng tôi</header>
    <div class="messages"></div>
    <input type="text" id="chatInput" placeholder="Nhập tin nhắn...">
  </div>
  <footer>
    Liên hệ: Hotline 1900 XXXX | Email: info@hochiminhtourist.vn<br>
    © 2025 HoChiMinhTourist — Thiết kế bởi Nhóm 5
  </footer>

  <script>
    $(document).ready(function() {
      // Loading animation
      setTimeout(() => $("#loading").addClass("hidden"), 1000);

      // AOS animation
      AOS.init({ duration: 800, once: true });

      // Slick carousel
      $(".slick-banner").slick({
        autoplay: true,
        autoplaySpeed: 2500,
        dots: true,
        arrows: false,
        fade: true
      });
        // Dark Mode
        const modeBtn = $("#toggleMode");
        const body = $("body");
        
        // Kiểm tra trạng thái lưu trong localStorage
        if (localStorage.getItem("theme") === "dark") {
          body.addClass("dark");
          modeBtn.find("i").removeClass("fa-moon").addClass("fa-sun");
        }
        
        // Khi click
        modeBtn.on("click", function() {
          body.toggleClass("dark");
        
          // Đổi icon
          $(this).find("i").toggleClass("fa-moon fa-sun");
        
          // Lưu trạng thái
          const theme = body.hasClass("dark") ? "dark" : "light";
          localStorage.setItem("theme", theme);
        });
      // Scroll to top
      $(window).scroll(function() {
        if ($(this).scrollTop() > 300) $("#topBtn").fadeIn();
        else $("#topBtn").fadeOut();
      });
      $("#topBtn").click(() => $("html, body").animate({ scrollTop: 0 }, 600));

      // Chat popup
      $("#chatBtn").click(() => $("#chatBox").fadeToggle());

      $("#chatInput").keypress(function(e) {
        if (e.which == 13) {
          let msg = $(this).val().trim();
          if (msg !== "") {
            $(".messages").append(`<div><b>Bạn:</b> ${msg}</div>`);
            $(this).val("");
          }
        }
      });

      // Hiển thị tour (demo)
      const mienbac = [
        { name: "Hà giang", img: "https://www.vivutravel.com/images/Blogs62/du-lich-ha-giang.jpg", price: "2.990.000đ", info: "3 ngày 2 đêm" },
        { name: "Hà Nội", img: "https://file3.qdnd.vn/data/images/0/2022/10/24/phucthang/hanoi%20trong%20toi1.jpg?dpi=150&quality=100&w=870", price: "750.000đ", info: "1 ngày 0 đêm, Khởi hành tại Hà Nội" },
      ];
      const mientrung = [
        { name: "Nha Trang", img: "https://du-lich-da-lat.com/wp-content/uploads/2022/03/Nha-Trang.jpg", price: "5.579.000đ", info: "4 ngày 3 đêm" },
        { name: "Mũi Né", img: "https://vcdn1-dulich.vnecdn.net/2022/04/03/Mui-Ne-jpeg-5485-1648974014.jpg?w=0&h=0&q=100&dpr=1&fit=crop&s=o8h2KKBBwNkstm9ZTdPT_Q", price: "3.979.000đ", info: "3 ngày 2 đêm" },
      ];
      const taynguyen = [
        { name: "Đắk Lắk", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQw3Ip02Ax7wRCpUH4iGkURpuI2Byuj-I4L_w&s", price: "3.990.000đ", info: "3 ngày 2 đêm" },
        { name: "Lâm Đồng", img: "https://travel-bus-files.s3.ap-southeast-1.amazonaws.com/images/dc2c5d0d-fe20-45eb-8fe3-07fb187d041c.jpeg", price: "6.999.000đ", info: "3 ngày 2 đêm" },
      ];
      const taynambo = [
        { name: "Phú Quốc", img: "https://xdcs.cdnchinhphu.vn/446259493575335936/2025/4/25/phuquoc-1745578415234294774879.jpg", price: "3.990.000đ", info: "3 ngày 2 đêm" },
        { name: "Rạch giá", img: "https://file3.qdnd.vn/data/images/0/2022/10/24/phucthang/hanoi%20trong%20toi1.jpg?dpi=150&quality=100&w=870", price: "1.000.000đ", info: "1 ngày trọn gói" },
      ];
      const dongnambo = [
        { name: "Vũng Tàu", img: "https://ik.imagekit.io/tvlk/blog/2024/07/dia-diem-vui-choi-vung-tau-2.png", price: "2.879.000đ", info: "2 ngày 1 đêm" },
        { name: "Tây Ninh", img: "https://file3.qdnd.vn/data/images/0/2022/10/24/phucthang/hanoi%20trong%20toi1.jpg?dpi=150&quality=100&w=870", price: "2.979.000đ", info: "1 ngày trọn gói" },
      ];
      function renderTours(list, container) {
        list.forEach(t => {
          $(container).append(`
            <div class="tour-card" data-aos="zoom-in">
              <img src="${t.img}" alt="${t.name}">
              <div class="tour-info">
                <h3>${t.name}</h3>
                <p>${t.info}</p>
                <div class="price">${t.price}</div>
              </div>
            </div>
          `);
        });
      }

      renderTours(mienbac, "#mienbac");
      renderTours(mientrung, "#mientrung");
      renderTours(taynguyen, "#taynguyen");
      renderTours(taynambo, "#taynambo");
      renderTours(dongnambo, "#dongnambo");
    });
    // Cuộn mượt khi click menu
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', function(e) {
        if (this.getAttribute('href').startsWith('#')) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            window.scrollTo({
              top: target.offsetTop - 70,
              behavior: 'smooth'
            });
          }
        }
      });
    });
    // Đổi màu navbar khi cuộn xuống
    window.addEventListener('scroll', function() {
      const navbar = document.querySelector('.navbar');
      if (window.scrollY > 50) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    });
    // Dropdown hoạt động khác nhau trên mobile và desktop
    function initDropdownBehavior() {
    if (window.innerWidth > 992) {
        // Desktop: mở khi hover
        $('.nav-item.dropdown').off('click').hover(
        function() { $(this).find('.mega-menu').stop(true, true).slideDown(500); },
        function() { $(this).find('.mega-menu').stop(true, true).slideUp(500); }
        );
    } else {
        // Mobile: mở khi click
        $('.nav-item.dropdown > a').off('click').on('click', function(e) {
        e.preventDefault();
        const parent = $(this).closest('.nav-item');
        parent.toggleClass('show');
        parent.find('.mega-menu').slideToggle(300);
        });
    }
    }
    initDropdownBehavior();
    $(window).on('resize', initDropdownBehavior);

    // Giữ dropdown "Du lịch" mở khi click
    $('#dulichDropdown').on('click', function(e) {
        e.preventDefault();
        const parent = $(this).closest('.nav-item.dropdown');
        const menu = parent.find('.mega-menu');

        // Kiểm tra nếu đang mở thì đóng, nếu đang đóng thì mở
        if (menu.is(':visible')) {
            menu.stop(true, true).slideUp(400);
            parent.removeClass('show');
        } else {
            $('.mega-menu').slideUp(400); // đóng các menu khác nếu có
            $('.nav-item.dropdown').removeClass('show');
            menu.stop(true, true).slideDown(400);
            parent.addClass('show');
        }
    });

    // Giữ menu mở khi click vào bên trong
    $('.mega-menu').on('click', function(e) {
        e.stopPropagation(); // tránh đóng menu khi click bên trong
    });

    // Đóng menu khi click ra ngoài
    $(document).on('click', function(e) {
        if (!$(e.target).closest('.nav-item.dropdown').length) {
            $('.mega-menu').slideUp(400);
            $('.nav-item.dropdown').removeClass('show');
        }
    });
    // TÌM KIẾM TOUR (Select2) 
    const allTours = [
      { id: 'mienbac', text: 'Hà Giang' },
      { id: 'mienbac', text: 'Hà Nội' },
      { id: 'mientrung', text: 'Nha Trang' },
      { id: 'mientrung', text: 'Mũi Né' },
      { id: 'taynguyen', text: 'Đắk Lắk' },
      { id: 'taynguyen', text: 'Lâm Đồng' },
      { id: 'taynambo', text: 'Phú Quốc' },
      { id: 'taynambo', text: 'Rạch Giá' },
      { id: 'dongnambo', text: 'Vũng Tàu' },
      { id: 'dongnambo', text: 'Tây Ninh' },
    ];

    // Khởi tạo Select2
    $('#tourSearch').select2({
      placeholder: "🔍 Nhập tên tour...",
      data: allTours,
      allowClear: true
    });

    // Khi người dùng chọn tour
    $('#tourSearch').on('select2:select', function (e) {
      const selected = e.params.data;
      const section = document.getElementById(selected.id);
      if (section) {
        $('html, body').animate({ scrollTop: $(section).offset().top - 100 }, 700);
        // Hiệu ứng highlight
        $(section).css('box-shadow', '0 0 20px rgba(0,150,255,0.5)');
        setTimeout(() => $(section).css('box-shadow', 'none'), 1500);
      }
    });

  </script>
</body>
</html>
